<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wirepine Lab</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="hero">
    <div class="hero-bg"></div>
    <nav class="nav">
      <img src="2-band flat.png" alt="Wirepine" class="nav-logo">
      <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">Light</button>
    </nav>
    <div class="hero-content">
      <h1 class="hero-title"><span class="wire">Wire</span>pine Lab</h1>
      <p class="hero-subtitle">An AI-native experimental studio</p>
    </div>
  </header>

  <main>
    <section class="manifesto">
      <div class="manifesto-content">
        <h2>Manifesto</h2>
        <p>We build at the intersection of artificial intelligence and human intent. Where WordPress offered templates, we offer transformation. Where platforms promised ease, we pursue essence.</p>
        <p>Our work lives in the space between systems thinking and design intuition—crafting experiments that question, artifacts that provoke, and tools that evolve alongside the minds that use them.</p>
        <p class="manifesto-tagline">Experiments. Systems. AI. Design.</p>
      </div>
    </section>

    <section class="experiments">
      <h2>Experiments</h2>
      <div class="experiments-grid">
        <article class="experiment-card">
          <img src="icon library/semantic-drift.svg" alt="" class="experiment-icon">
          <h3>Semantic Drift</h3>
          <p>Exploring how meaning shifts when AI interprets human language across contexts.</p>
        </article>
        <article class="experiment-card">
          <img src="icon library/pattern-emergence.svg" alt="" class="experiment-icon">
          <h3>Pattern Emergence</h3>
          <p>Visualizing the latent structures hidden within generative model outputs.</p>
        </article>
        <article class="experiment-card">
          <img src="icon library/interface-zero.svg" alt="" class="experiment-icon">
          <h3>Interface Zero</h3>
          <p>Designing interactions that disappear—where the tool becomes invisible.</p>
        </article>
        <article class="experiment-card">
          <img src="icon library/synthetic-memory.svg" alt="" class="experiment-icon">
          <h3>Synthetic Memory</h3>
          <p>Building systems that remember differently than we do.</p>
        </article>
        <article class="experiment-card">
          <img src="icon library/constraint-gardens.svg" alt="" class="experiment-icon">
          <h3>Constraint Gardens</h3>
          <p>Growing creativity within deliberate limitations and structured chaos.</p>
        </article>
        <article class="experiment-card">
          <img src="icon library/echo-protocol.svg" alt="" class="experiment-icon">
          <h3>Echo Protocol</h3>
          <p>Feedback loops between human intention and machine interpretation.</p>
        </article>
      </div>
    </section>

    <section class="artifact">
      <h2>Featured Artifact</h2>
      <figure class="artifact-figure">
        <div class="artifact-image" aria-label="Featured artifact placeholder">
          <span>Artifact 001</span>
        </div>
        <figcaption>
          <strong>Topology of Thought</strong>
          <span>A generative study on the shape of reasoning—mapping how ideas connect, diverge, and reconverge through iterative AI collaboration.</span>
        </figcaption>
      </figure>
    </section>

    <section class="newsletter">
      <h2>From the Newsletter</h2>
      <div class="newsletter-grid" id="newsletter-feed">
        <div class="newsletter-loading">Loading posts...</div>
      </div>
      <a href="https://newsletter.wirepine.com" class="newsletter-cta">Subscribe to TechTales</a>
    </section>
  </main>

  <footer class="footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="https://wirepine.com">wirepine.com</a>
        <a href="https://newsletter.wirepine.com">newsletter</a>
      </div>
      <p class="footer-copyright">&copy; 2025 Wirepine Lab. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Theme toggle
    const toggle = document.getElementById('theme-toggle');
    const root = document.documentElement;

    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'light') {
      root.setAttribute('data-theme', 'light');
      toggle.textContent = 'Dark';
    }

    toggle.addEventListener('click', () => {
      const isLight = root.getAttribute('data-theme') === 'light';

      if (isLight) {
        root.removeAttribute('data-theme');
        localStorage.setItem('theme', 'dark');
        toggle.textContent = 'Light';
      } else {
        root.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
        toggle.textContent = 'Dark';
      }
    });

    // Newsletter RSS feed
    async function loadNewsletter() {
      const feed = document.getElementById('newsletter-feed');
      const CORS_PROXY = 'https://api.allorigins.win/raw?url=';
      const RSS_URL = 'https://newsletter.wirepine.com/feed';

      try {
        const response = await fetch(CORS_PROXY + encodeURIComponent(RSS_URL));
        const text = await response.text();
        const parser = new DOMParser();
        const xml = parser.parseFromString(text, 'text/xml');
        const items = xml.querySelectorAll('item');

        const posts = Array.from(items).slice(0, 4).map(item => {
          const title = item.querySelector('title')?.textContent || '';
          const link = item.querySelector('link')?.textContent || '';
          const description = item.querySelector('description')?.textContent || '';
          const pubDate = item.querySelector('pubDate')?.textContent || '';
          const enclosure = item.querySelector('enclosure');
          const image = enclosure?.getAttribute('url') || '';

          const date = new Date(pubDate).toLocaleDateString('en-US', {
            month: 'short',
            day: 'numeric',
            year: 'numeric'
          });

          return { title, link, description, date, image };
        });

        feed.innerHTML = posts.map(post => `
          <a href="${post.link}" class="newsletter-card" target="_blank" rel="noopener">
            ${post.image ? `<img src="${post.image}" alt="" class="newsletter-image">` : ''}
            <div class="newsletter-card-content">
              <time class="newsletter-date">${post.date}</time>
              <h3 class="newsletter-title">${post.title}</h3>
              <p class="newsletter-excerpt">${post.description}</p>
            </div>
          </a>
        `).join('');

      } catch (error) {
        feed.innerHTML = '<p class="newsletter-error">Unable to load posts. <a href="https://newsletter.wirepine.com">Visit the newsletter</a></p>';
      }
    }

    loadNewsletter();
  </script>
</body>
</html>
